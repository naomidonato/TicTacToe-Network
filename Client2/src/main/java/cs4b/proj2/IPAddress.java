package cs4b.proj2;
import java.util.regex.*;


//************************************************************************************
public class IPAddress {
    //***************************************************************************
    private String IP;

    private static Pattern ipRegex =
            Pattern.compile("^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.)" +
                            "{3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$");
    //***************************************************************************


    //***************************************************************************
    public IPAddress(IPAddress ipAddress) {
        this.IP = ipAddress.IP;
    }
    //***************************************************************************


    //***************************************************************************
    public  IPAddress(String ipAddress) {
        if(!isValidIP(ipAddress)) {
            throw new RuntimeException("Bad IP Address");
        }
        else {
            this.IP = ipAddress;
        }
    }
    //***************************************************************************


    //***************************************************************************
    public static boolean isValidIP(IPAddress ipAddress) {

        return isValidIP(ipAddress.IP);
    }
    //***************************************************************************


    //***************************************************************************
    public static boolean isValidIP(String ipAddress) {
        Matcher m = ipRegex.matcher(ipAddress);
        return m.matches();
    }
    //***************************************************************************


    //***************************************************************************
    @Override
    public String toString() {
        return IP;
    }
    //***************************************************************************
}
//************************************************************************************